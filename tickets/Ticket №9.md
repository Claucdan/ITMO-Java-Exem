# Что такое «сервлет»? Отличия сервера приложений и контейнеров сервлетов.
## Что такое «сервлет»?
### Ключевые определения
**Сервлет** — это Java-класс, который расширяет функциональность сервера и обрабатывает клиентские запросы (обычно HTTP) и возвращает ответы. Это ключевой компонент веб-приложений на Java, работающий на стороне сервера.
### Характеристики
- **Часть Java EE/Jakarta EE**  
- **Запускается в контейнере сервлетов** (Tomcat, Jetty, WildFly)  
- **Обрабатывает HTTP-запросы** (GET, POST, PUT, DELETE и др.)  
- **Гибкость** — можно использовать для создания REST API, веб-приложений, обработки форм
### Жизненный цикл
1. **Инициализация**
    - Контейнер вызывает `init()` при первом запросе или старте приложения.
    - Выполняется один раз за время жизни сервлета.
2. **Обработка запросов**
    - Для каждого запроса вызывается `service()`, который перенаправляет на `doGet()`, `doPost()` и др.
3. **Уничтожение**
    - При завершении работы приложения вызывается `destroy()`.
### Виды сервлетов
1. **`HttpServlet`** (наиболее популярный)
    - Обрабатывает HTTP-запросы (`doGet`, `doPost`, `doPut`, `doDelete`).
2. **`GenericServlet`** (абстрактный)
    - Базовый класс для сервлетов, не привязанных к HTTP.
### Зачем нужны сервлеты?
- **Основа для фреймворков** (Spring MVC, Jakarta Faces)
- **REST API** (можно создать вручную, но обычно используют JAX-RS)
- **Веб-приложения** (обработка форм, аутентификация)
- **Фильтры и слушатели** (`Filter`, `ServletContextListener`)
## Контейнер сервлетов (Servlet Container)
### Что это?
Минимальная среда для выполнения веб-приложений, которая обрабатывает **только сервлеты, JSP и простые веб-компоненты**.
### Основные функции
- Запуск сервлетов и JSP  
- Обработка HTTP-запросов/ответов  
- Управление жизненным циклом сервлетов  
- Поддержка сессий (HTTP Session)  
### Примеры
- Apache Tomcat
- Jetty
- Undertow
### Когда использовать?
- Простые веб-приложения (REST API, MVC)
- Микросервисы
- Когда не нужны полные возможности Java EE/Jakarta EE
## Сервер приложений (Application Server)
### Что это?
Полноценная среда выполнения для **корпоративных приложений**, поддерживающая все спецификации Java EE/Jakarta EE.
### Основные функции (дополнительно к Servlet Container)
- **EJB** (Enterprise Java Beans) – распределённые компоненты  
- **JMS** (Java Message Service) – обработка очередей сообщений  
- **JTA** (Java Transaction API) – управление транзакциями  
- **JPA** (Java Persistence API) – работа с БД  
- **JCA** (Java Connector Architecture) – интеграция с внешними системами  
- **Безопасность** (JAAS, JASPIC)  
### Примеры
- WildFly (бывший JBoss)
- GlassFish
- WebLogic (Oracle)
- WebSphere (IBM)
### Когда использовать?
- Крупные enterprise-приложения
- Системы с распределёнными транзакциями
- Приложения, использующие EJB, JMS, JTA
## Сравнение

|                             | *Контейнер сервлетов*                      | *Сервер приложений*           |
| --------------------------- | ------------------------------------------ | ----------------------------- |
| **Поддержка сервлетов/JSP** | Да                                         | Да                            |
| **EJB**                     | Нет                                        | Да                            |
| **JMS (очереди сообщений)** | Нет                                        | Да                            |
| **JTA (транзакции)**        | Ограниченная                               | Полная                        |
| **JPA (ORM)**               | Только если добавить Hibernate/EclipseLink | Встроенная поддержка          |
| **JCA (интеграция)**        | Нет                                        | Да                            |
| **Безопасность**            | Базовая (HTTP + SSL)                       | Расширенная (JAAS, JASPIC)    |
| **Примеры**                 | Tomcat, Jetty                              | WildFly, GlassFish, WebLogic  |
| **Использование**           | Веб-приложения, REST API                   | Крупные корпоративные системы |

